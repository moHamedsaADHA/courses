# ๐ฅ Get All Users API Documentation

## ๐ ูุธุฑุฉ ุนุงูุฉ
ูุฐุง ุงูู endpoint ูุณูุญ ููุฅุฏุงุฑููู ุจุฌูุจ ุฌููุน ุงููุณุชุฎุฏููู ูุน ุฅููุงููุงุช ุงูุจุญุซ ูุงูููุชุฑุฉ ุงููุชูุฏูุฉ.

---

## ๐ Endpoint Details

### **GET** `/api/users/all`

**ุงูุตูุงุญูุงุช ุงููุทููุจุฉ:** Admin ููุท  
**ุงููุตุงุฏูุฉ:** Bearer Token ูุทููุจ

---

## ๐ Query Parameters

### **ุงูุจุญุซ ูุงูููุชุฑุฉ:**
- `name` - ุงูุจุญุซ ูู ุงูุงุณู (ุบูุฑ ุญุณุงุณ ููุญุงูุฉ)
- `code` - ุงูุจุญุซ ูู ุงูููุฏ (ุบูุฑ ุญุณุงุณ ููุญุงูุฉ)
- `role` - ููุชุฑุฉ ุญุณุจ ุงูุฏูุฑ (`student`, `instructor`, `admin`)
- `grade` - ููุชุฑุฉ ุญุณุจ ุงูุตู
- `isVerified` - ููุชุฑุฉ ุญุณุจ ุญุงูุฉ ุงูุชูุนูู (`true`, `false`)

### **Pagination:**
- `page` - ุฑูู ุงูุตูุญุฉ (ุงูุชุฑุงุถู: 1)
- `limit` - ุนุฏุฏ ุงูุนูุงุตุฑ ููู ุตูุญุฉ (ุงูุชุฑุงุถู: 20)

---

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### **1. ุฌูุจ ุฌููุน ุงููุณุชุฎุฏููู:**
```http
GET /api/users/all
Authorization: Bearer your_access_token
```

### **2. ุงูุจุญุซ ุจุงูุงุณู:**
```http
GET /api/users/all?name=ูุญูุฏ
Authorization: Bearer your_access_token
```

### **3. ุงูุจุญุซ ุจุงูููุฏ:**
```http
GET /api/users/all?code=S123
Authorization: Bearer your_access_token
```

### **4. ููุชุฑุฉ ุญุณุจ ุงูุฏูุฑ:**
```http
GET /api/users/all?role=student
Authorization: Bearer your_access_token
```

### **5. ููุชุฑุฉ ุญุณุจ ุงูุตู:**
```http
GET /api/users/all?grade=ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุนููู
Authorization: Bearer your_access_token
```

### **6. ููุชุฑุฉ ุงููุณุชุฎุฏููู ุงูููุนููู:**
```http
GET /api/users/all?isVerified=true
Authorization: Bearer your_access_token
```

### **7. ุจุญุซ ูุฑูุจ ูุน pagination:**
```http
GET /api/users/all?role=student&grade=ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุนููู&page=2&limit=10
Authorization: Bearer your_access_token
```

---

## ๐ค Response Format

### **ูุฌุญ ุงูุทูุจ (200):**
```json
{
  "success": true,
  "message": "ุชู ุฌูุจ ุงููุณุชุฎุฏููู ุจูุฌุงุญ",
  "data": [
    {
      "_id": "64f8a7b2c1234567890abcde",
      "name": "ูุญูุฏ ุฃุญูุฏ ุนูู",
      "email": "mohamed@example.com",
      "code": "S12345678",
      "role": "student",
      "grade": "ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุนููู",
      "location": "ุงููุงูุฑุฉ",
      "phone": "01234567890",
      "password": "myPassword123",
      "isVerified": true,
      "createdAt": "2025-10-14T10:30:00.000Z",
      "updatedAt": "2025-10-14T10:30:00.000Z"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 150,
    "pages": 8,
    "hasNext": true,
    "hasPrev": false
  },
  "statistics": {
    "total": 150,
    "verified": 120,
    "unverified": 30,
    "byRole": {
      "student": 100,
      "instructor": 40,
      "admin": 10
    },
    "byGrade": {
      "ุงูุตู ุงูุฃูู ุงูุซุงููู": 30,
      "ุงูุตู ุงูุซุงูู ุงูุซุงููู ุนููู": 25,
      "ุงูุตู ุงูุซุงูู ุงูุซุงููู ุงุฏุจู": 20,
      "ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุนููู": 15,
      "ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุงุฏุจู": 10
    }
  },
  "filters": {
    "role": "student",
    "grade": "ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุนููู"
  }
}
```

### **ุฎุทุฃ ูู ุงูุตูุงุญูุงุช (403):**
```json
{
  "success": false,
  "message": "ููุณ ูุฏูู ุตูุงุญูุฉ ูููุตูู ููุฐุง ุงูููุฑุฏ"
}
```

### **ุฎุทุฃ ูู ุงููุตุงุฏูุฉ (401):**
```json
{
  "success": false,
  "message": "ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู"
}
```

---

## ๐ ููุฒุงุช ุงูุจุญุซ

### **1. ุงูุจุญุซ ุจุงูุงุณู:**
- ุบูุฑ ุญุณุงุณ ููุญุงูุฉ (Case Insensitive)
- ูุจุญุซ ูู ุฃู ุฌุฒุก ูู ุงูุงุณู
- ูุซุงู: `name=ูุญูุฏ` ุณูุฌุฏ "ูุญูุฏ ุฃุญูุฏ" ู "ุฃุญูุฏ ูุญูุฏ"

### **2. ุงูุจุญุซ ุจุงูููุฏ:**
- ุบูุฑ ุญุณุงุณ ููุญุงูุฉ
- ูุจุญุซ ูู ุฃู ุฌุฒุก ูู ุงูููุฏ
- ูุซุงู: `code=S123` ุณูุฌุฏ "S12345678"

### **3. ุงูููุชุฑุฉ ุงููุชุนุฏุฏุฉ:**
- ูููู ุฏูุฌ ุนุฏุฉ ููุงุชุฑ ูุนุงู
- ุฌููุน ุงูููุงุชุฑ ุชุนูู ุจูุธุงู AND

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงููุชููุฑุฉ

### **ุฅุญุตุงุฆูุงุช ุนุงูุฉ:**
- `total` - ุงูุนุฏุฏ ุงูุฅุฌูุงูู ูููุณุชุฎุฏููู
- `verified` - ุนุฏุฏ ุงููุณุชุฎุฏููู ุงูููุนููู
- `unverified` - ุนุฏุฏ ุงููุณุชุฎุฏููู ุบูุฑ ุงูููุนููู

### **ุฅุญุตุงุฆูุงุช ุญุณุจ ุงูุฏูุฑ:**
- ุนุฏุฏ ุงููุณุชุฎุฏููู ููู ุฏูุฑ (student, instructor, admin)

### **ุฅุญุตุงุฆูุงุช ุญุณุจ ุงูุตู:**
- ุนุฏุฏ ุงููุณุชุฎุฏููู ููู ุตู ุฏุฑุงุณู

---

## โ๏ธ ููุงุญุธุงุช ุฃูููุฉ

**โ๏ธ ุชุญุฐูุฑ:** ูุฐุง ุงูู endpoint ูุนุฑุถ ูููุงุช ุงููุฑูุฑ ุจุฏูู ุชุดููุฑ ุจูุงุกู ุนูู ุทูุจ ุงูุนููู. ูุฐุง **ุบูุฑ ุขูู** ูู ุงูุจูุฆุงุช ุงูุฅูุชุงุฌูุฉ ุงูุนุงุฏูุฉ.

**ุงูุชูุตูุงุช:**
1. ุชุฃูุฏ ูู ุชุดููุฑ ุงูุงุชุตุงู (HTTPS)
2. ูุตุฑ ุงููุตูู ุนูู ุงูุฅุฏุงุฑููู ููุท
3. ุชุณุฌูู ุฌููุน ูุญุงููุงุช ุงููุตูู ูููุฑุงูุจุฉ
4. ุชูููุฏ ุนุฏุฏ ุงูุทูุจุงุช ูููุน ุงูุฅุณุงุกุฉ

---

## ๐ ุฃุฏุงุก ูุญุณู

### **ุงูููุงุฑุณ ุงููุณุชุฎุฏูุฉ:**
- ููุฑุณ ุนูู `name` ููุจุญุซ ุงูุณุฑูุน
- ููุฑุณ ุนูู `code` ููุจุญุซ ุงูุณุฑูุน
- ููุฑุณ ุนูู `role` ููููุชุฑุฉ
- ููุฑุณ ุนูู `grade` ููููุชุฑุฉ
- ููุฑุณ ุนูู `isVerified` ููููุชุฑุฉ

### **ุชุญุณููุงุช:**
- ุงุณุชุฎุฏุงู `.lean()` ููุฃุฏุงุก ุงูุฃูุถู
- Pagination ูุชูููู ุงูุจูุงูุงุช ุงููููููุฉ
- Aggregation ููุฅุญุตุงุฆูุงุช ุงูุณุฑูุนุฉ

---

## ๐ง ูุซุงู Frontend Integration

```javascript
// ุฏุงูุฉ ูุฌูุจ ุงููุณุชุฎุฏููู ูุน ุงูุจุญุซ
async function getAllUsers(filters = {}) {
  const params = new URLSearchParams(filters);
  const response = await fetch(`/api/users/all?${params}`, {
    headers: {
      'Authorization': `Bearer ${accessToken}`,
      'Content-Type': 'application/json'
    }
  });
  
  if (response.ok) {
    const data = await response.json();
    return data;
  } else {
    throw new Error('ูุดู ูู ุฌูุจ ุงููุณุชุฎุฏููู');
  }
}

// ุฃูุซูุฉ ููุงุณุชุฎุฏุงู
const allUsers = await getAllUsers();
const students = await getAllUsers({ role: 'student' });
const searchResults = await getAllUsers({ name: 'ูุญูุฏ', page: 1, limit: 10 });
```

---

**ุชู ุฅูุดุงุก ุงูู API ุจูุฌุงุญ! ๐**