# ๐ ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุญุตุต (Lessons API)

ุชููุฑ ูุฐู ุงููุงุฌูุฉ ุฅุฏุงุฑุฉ ูุงููุฉ ููุญุตุต ุงูุชุนููููุฉ (ุฅูุดุงุกุ ุนุฑุถุ ุชุญุฏูุซุ ุญุฐู) ูุน ุฏุนู ุงูุชุตููุฉ ูุงูุจุญุซ.

## โ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
- ูุฌุจ ุฃู ูููู ุงููุณุชุฎุฏู ูุณุฌูุงู ุงูุฏุฎูู
- ูุฅูุดุงุก/ุชุญุฏูุซ/ุญุฐู ุญุตุฉ: ุงูุฏูุฑ ูุฌุจ ุฃู ูููู `instructor` ุฃู `admin`
- ุงูุญููู ุงูุฃุณุงุณูุฉ ููุญุตุฉ:
  - `grade` : ุงูุตู ุงูุฏุฑุงุณู (ูุซุงู: ุงูุตู ุงูุฃูู ุงูุซุงููู)
  - `unitTitle` : ุนููุงู ุงููุญุฏุฉ
  - `lessonTitle` : ุนููุงู ุงูุฏุฑุณ
  - `videoUrl` : ุฑุงุจุท ููุฏูู (YouTube, Vimeo, Google Drive, mp4)

## ๐งฑ ูููู ุงูุญุตุฉ (Lesson Object)
```json
{
  "_id": "665f1b...",
  "grade": "ุงูุตู ุงูุฃูู ุงูุซุงููู",
  "unitTitle": "ุงููุญุฏุฉ ุงูุฃููู: ุฃุณุงุณูุงุช",
  "lessonTitle": "ููุฏูุฉ ูู ุงูุฎูุงุฑุฒููุงุช",
  "videoUrl": "https://www.youtube.com/watch?v=...",
  "createdBy": "665eaf...", 
  "createdAt": "2025-09-18T10:15:22.000Z"
}
```

## ๐ ุงููุตุงุฏูุฉ (Authentication)
ุฃุฑุณู ุงูุชููู ูู ุงูููุฏุฑ:
```
Authorization: Bearer <JWT_TOKEN>
```

---
## ๐ ุงููุณุงุฑุงุช (Endpoints)

### 1) ุฅูุดุงุก ุญุตุฉ ุฌุฏูุฏุฉ
`POST /api/lessons`

#### ุงูุทูุจ (Request Body):
```json
{
  "grade": "ุงูุตู ุงูุฃูู ุงูุซุงููู",
  "unitTitle": "ุงููุญุฏุฉ ุงูุฃููู: ุงูุจุฑูุฌุฉ",
  "lessonTitle": "ููุฏูุฉ ูู JavaScript",
  "videoUrl": "https://www.youtube.com/watch?v=dQw4w9WgXcQ"
}
```
#### ุงูุงุณุชุฌุงุจุฉ ุงููุงุฌุญุฉ:
```json
{
  "message": "ุชู ุฅูุดุงุก ุงูุญุตุฉ ุจูุฌุงุญ",
  "lesson": { ... }
}
```

---
### 2) ุฌูุจ ูุงุฆูุฉ ุงูุญุตุต ูุน ุงูุชุตููุฉ
`GET /api/lessons?grade=ุงูุตู ุงูุฃูู ุงูุซุงููู&unit=ุงููุญุฏุฉ ุงูุฃููู&search=Java&page=1&limit=10`

#### ุงูุงุณุชุฌุงุจุฉ:
```json
{
  "page": 1,
  "pages": 3,
  "total": 25,
  "lessons": [ { ... }, { ... } ]
}
```

ุจุงุฑุงูุชุฑุงุช ูุฏุนููุฉ:
- `grade` : ููุชุฑุฉ ุญุณุจ ุงูุตู
- `unit` : ููุชุฑุฉ ุญุณุจ ุนููุงู ุงููุญุฏุฉ
- `search` : ุจุญุซ ูู ุนููุงู ุงูุฏุฑุณ ุฃู ุงููุญุฏุฉ
- `page` : ุฑูู ุงูุตูุญุฉ (ุงูุชุฑุงุถู 1)
- `limit` : ุนุฏุฏ ุงูุนูุงุตุฑ ููู ุตูุญุฉ (ุงูุชุฑุงุถู 20)

---
### 3) ุฌูุจ ุญุตุฉ ูุงุญุฏุฉ
`GET /api/lessons/:id`

#### ุงูุงุณุชุฌุงุจุฉ:
```json
{ "lesson": { ... } }
```

---
### 4) ุชุญุฏูุซ ุญุตุฉ
`PUT /api/lessons/:id`

#### ุงูุทูุจ (ุฃุญุฏ ุงูุญููู ุฃู ุฃูุซุฑ):
```json
{
  "lessonTitle": "ููุฏูุฉ ูู ุงูุจุฑูุฌุฉ ุงููุงุฆููุฉ",
  "videoUrl": "https://youtu.be/abcd1234"
}
```
#### ุงูุงุณุชุฌุงุจุฉ:
```json
{ "message": "ุชู ุชุญุฏูุซ ุงูุญุตุฉ", "lesson": { ... } }
```

---
### 5) ุญุฐู ุญุตุฉ
`DELETE /api/lessons/:id`

#### ุงูุงุณุชุฌุงุจุฉ:
```json
{ "message": "ุชู ุญุฐู ุงูุญุตุฉ ุจูุฌุงุญ" }
```

---
## ๐ฏ ูุณุงุฑุงุช ุฌุงูุฒุฉ ุญุณุจ ุงูุตู (Fixed Grade Endpoints)
ูููุตูู ูุจุงุดุฑุฉ ุฅูู ุญุตุต ุตู ูุนูู ุฏูู ุชููุฑูุฑ ุจุงุฑุงูุชุฑุงุช:

| ุงูุตู | Endpoint |
|------|----------|
| ุงูุตู ุงูุฃูู ุงูุซุงููู | `GET /api/lessons/grade/1st-secondary` |
| ุงูุตู ุงูุซุงูู ุงูุซุงููู (ุนููู) | `GET /api/lessons/grade/2nd-secondary-science` |
| ุงูุตู ุงูุซุงูู ุงูุซุงููู (ุฃุฏุจู) | `GET /api/lessons/grade/2nd-secondary-literary` |
| ุงูุตู ุงูุซุงูุซ ุงูุซุงููู (ุนููู) | `GET /api/lessons/grade/3rd-secondary-science` |
| ุงูุตู ุงูุซุงูุซ ุงูุซุงููู (ุฃุฏุจู) | `GET /api/lessons/grade/3rd-secondary-literary` |

ูุซุงู:
```bash
curl http://localhost:3000/api/lessons/grade/3rd-secondary-science
```

ูููู ุฃูุถุงู ุงุณุชุฎุฏุงู `GET /api/lessons?grade=ุงูุตู ุงูุฃูู ุงูุซุงููู` ููู ูุฐู ุงููุณุงุฑุงุช ุฃุณูู ูููุงุฌูุฉ ุงูุฃูุงููุฉ.

---
## โ๏ธ ุฃุฎุทุงุก ูุญุชููุฉ
| ุงูุญุงูุฉ | ุงูุณุจุจ |
|--------|-------|
| 400 | ูุดู ุงููุงููุฏูุดู |
| 401 | ูู ูุชู ุฅุฑุณุงู ุชููู |
| 403 | ุงูุญุณุงุจ ูุง ูููู ุตูุงุญูุฉ |
| 404 | ุงูุญุตุฉ ุบูุฑ ููุฌูุฏุฉ |
| 500 | ุฎุทุฃ ุฏุงุฎูู |

---
## ๐งช ุงุฎุชุจุงุฑ ุณุฑูุน ุนุจุฑ cURL
```bash
# ุชุณุฌูู ุงูุฏุฎูู (ูุซุงู)
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"teacher@coursesplatform.com","password":"Teacher2024@"}'

# ุฅูุดุงุก ุญุตุฉ
curl -X POST http://localhost:3000/api/lessons \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <TOKEN>" \
  -d '{"grade":"ุงูุตู ุงูุฃูู ุงูุซุงููู","unitTitle":"ุงููุญุฏุฉ ุงูุฃููู","lessonTitle":"ููุฏูุฉ","videoUrl":"https://youtu.be/dQw4w9WgXcQ"}'
```

---
## ๐จโ๐ซ ุจูุงูุงุช ุญุณุงุจ ูุนูู ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู
- Email: `teacher@coursesplatform.com`
- Password: `Teacher2024@`

---
## ๐ ููุงุญุธุงุช ูุณุชูุจููุฉ ููุชุฑุญุฉ
- ุฅุถุงูุฉ ุฏุนู ุฑูุน ูููุงุช PDF ูุฑููุฉ ููุญุตุฉ
- ุฅุถุงูุฉ ุญูู ูุฏุฉ ุงูููุฏูู
- ูุธุงู ุชุนูููุงุช ููุทูุงุจ
- ุฑุจุท ุงูุญุตุฉ ุจููุฑุณ ูุนูู (courseId)

---
ุชู ุฅุนุฏุงุฏ ูุฐุง ุงูููู ูุชุณููู ุงูุชูุงูู ุงูุฃูุงูู (Frontend) ูุงูุชุฌุฑุจุฉ ุงูุณุฑูุนุฉ. ูุฃู ุชุนุฏูู ุฅุถุงูู ุฃุฎุจุฑูู. โ
