# ๐ง ูุธุงู ุฅุฏุงุฑุฉ ุงููููุฒุงุช ูุงูุงุฎุชุจุงุฑุงุช - API Documentation

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ุงููููุฒุงุช ูุงูุงุฎุชุจุงุฑุงุช ุงูุชูุงุนููุฉ ูููุฑุงุญู ุงูุซุงูููุฉ. ูุฏุนู ุงููุธุงู ููุนูู ูู ุงูุฃุณุฆูุฉ: ุฃุณุฆูุฉ ุตุญ ูุฎุทุฃ ูุฃุณุฆูุฉ ุงูุงุฎุชูุงุฑ ูู ูุชุนุฏุฏุ ูุน ูุธุงู ุชูููู ูุฅุญุตุงุฆูุงุช ูุชูุฏูุฉ.

## ๐ฏ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

- โ **ุฃููุงุน ุงูุฃุณุฆูุฉ ุงููุชุนุฏุฏุฉ**: ุตุญ ูุฎุทุฃ ูุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ
- ๐ **ูุธุงู ุงูููุงุท**: ุชูููู ูุฑู ููุฃุณุฆูุฉ (1-10 ููุงุท ููู ุณุคุงู)
- โฐ **ุฅุฏุงุฑุฉ ุงูููุช**: ุชุญุฏูุฏ ูุฏุฉ ุฒูููุฉ ูููููุฒ (5-180 ุฏูููุฉ)
- ๐ **ุชุตููู ุญุณุจ ุงูุตู**: 5 ูุณุชููุงุช ุฏุฑุงุณูุฉ ูุฎุชููุฉ
- ๐ **ุฅุญุตุงุฆูุงุช ุชูุตูููุฉ**: ุชูุงุฑูุฑ ุดุงููุฉ ูุชุญูููุงุช
- ๐ **ุฃูุงู ุงููุญุชูู**: ุฅุฎูุงุก ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ ุนู ุงูุทูุงุจ
- ๐ **ุจุญุซ ูููุชุฑุฉ**: ุจุญุซ ูุชูุฏู ุญุณุจ ุนุฏุฉ ูุนุงููุฑ

## ๐ ุงูุตููู ุงููุฏุนููุฉ

1. **ุงูุตู ุงูุฃูู ุงูุซุงููู**
2. **ุงูุตู ุงูุซุงูู ุงูุซุงููู ุนููู**
3. **ุงูุตู ุงูุซุงูู ุงูุซุงููู ุฃุฏุจู**
4. **ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุนููู**
5. **ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุฃุฏุจู**

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### Base URL
```
http://localhost:3000/api/quizzes
```

### ุงููุตุงุฏูุฉ ุงููุทููุจุฉ
ุฌููุน ุงูุทูุจุงุช ุชุชุทูุจ ุชุณุฌูู ุงูุฏุฎูู:
```bash
Authorization: Bearer <your-jwt-token>
```

---

## ๐ API Endpoints

### 1. ุฅุฏุงุฑุฉ ุงููููุฒุงุช ุงูุนุงูุฉ

#### ุฅูุดุงุก ูููุฒ ุฌุฏูุฏ
**POST** `/api/quizzes`

**ุงูุตูุงุญูุงุช ุงููุทููุจุฉ:** `instructor`, `admin`

**Body:**
```json
{
  "title": "ูููุฒ ุงูููุฒูุงุก - ุงููุญุฏุฉ ุงูุฃููู",
  "description": "ุงุฎุชุจุงุฑ ุดุงูู ูููุญุฏุฉ ุงูุฃููู ูู ุงูููุฒูุงุก ูุบุทู ููุงููู ูููุชู ูุงูุญุฑูุฉ",
  "grade": "ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุนููู",
  "subject": "ููุฒูุงุก",
  "timeLimit": 45,
  "isActive": true,
  "questions": [
    {
      "questionText": "ูุงููู ูููุชู ุงูุฃูู ููุต ุนูู ุฃู ุงูุฌุณู ูุจูู ูู ุญุงูุฉ ุงูุณููู ุฃู ุงูุญุฑูุฉ ุงูููุชุธูุฉ ูุง ูู ุชุคุซุฑ ุนููู ููุฉ ุฎุงุฑุฌูุฉ",
      "type": "ุตุญ ูุฎุทุฃ",
      "correctAnswer": true,
      "explanation": "ูุฐุง ุตุญูุญุ ููู ูุง ููุนุฑู ุจูุงููู ุงููุตูุฑ ุงูุฐุงุชู",
      "points": 2
    },
    {
      "questionText": "ูุง ูู ูุญุฏุฉ ููุงุณ ุงูููุฉ ูู ุงููุธุงู ุงูุฏูููุ",
      "type": "ุงุฎุชุฑ ูู ูุชุนุฏุฏ",
      "options": [
        { "text": "ูููุชู", "isCorrect": true },
        { "text": "ุฌูู", "isCorrect": false },
        { "text": "ูุงุท", "isCorrect": false },
        { "text": "ููููุฌุฑุงู", "isCorrect": false }
      ],
      "explanation": "ุงููููุชู ูู ูุญุฏุฉ ุงูููุฉ ูู ุงููุธุงู ุงูุฏููู",
      "points": 3
    }
  ]
}
```

**Response:**
```json
{
  "success": true,
  "message": "ุชู ุฅูุดุงุก ุงููููุฒ ุจูุฌุงุญ",
  "data": {
    "_id": "65f8a2b3c4d5e6f7g8h9i0j1",
    "title": "ูููุฒ ุงูููุฒูุงุก - ุงููุญุฏุฉ ุงูุฃููู",
    "description": "ุงุฎุชุจุงุฑ ุดุงูู ูููุญุฏุฉ ุงูุฃููู...",
    "grade": "ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุนููู",
    "subject": "ููุฒูุงุก",
    "timeLimit": 45,
    "isActive": true,
    "totalQuestions": 2,
    "totalPoints": 5,
    "questions": [...],
    "createdBy": {
      "_id": "...",
      "name": "ุฃ. ูุญูุฏ ุฃุญูุฏ",
      "email": "teacher@example.com"
    },
    "createdAt": "2024-01-15T10:30:00.000Z"
  }
}
```

#### ุฌูุจ ุฌููุน ุงููููุฒุงุช
**GET** `/api/quizzes`

**Query Parameters:**
- `page`: ุฑูู ุงูุตูุญุฉ (ุงูุชุฑุงุถู: 1)
- `limit`: ุนุฏุฏ ุงููุชุงุฆุฌ ูู ุงูุตูุญุฉ (ุงูุชุฑุงุถู: 10)
- `grade`: ุงูุตู
- `subject`: ุงููุงุฏุฉ
- `isActive`: ุงูุญุงูุฉ (`true`, `false`)
- `search`: ุจุญุซ ูุตู ูู ุงูุนููุงู ูุงููุตู
- `sortBy`: ุชุฑุชูุจ ุญุณุจ (`createdAt`, `totalQuestions`, `totalPoints`, `title`)
- `sortOrder`: ุงุชุฌุงู ุงูุชุฑุชูุจ (`asc`, `desc`)

**ูุซุงู:**
```bash
GET /api/quizzes?grade=ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุนููู&isActive=true&sortBy=totalPoints&sortOrder=desc
```

#### ุฌูุจ ูููุฒ ูุงุญุฏ
**GET** `/api/quizzes/:id`

**ููุงุญุธุฉ:** ุงูุทูุงุจ ูู ูุฑูุง ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉุ ุจูููุง ุงููุฏุฑุณูู ูุงูุฅุฏุงุฑููู ุณูุฑูููุง.

**Response:**
```json
{
  "success": true,
  "message": "ุชู ุฌูุจ ุงููููุฒ ุจูุฌุงุญ",
  "data": {
    "_id": "...",
    "title": "ูููุฒ ุงูููุฒูุงุก - ุงููุญุฏุฉ ุงูุฃููู",
    "questions": [
      {
        "questionText": "ูุงููู ูููุชู ุงูุฃูู...",
        "type": "ุตุญ ูุฎุทุฃ",
        "correctAnswer": true,  // ูุฎูู ููุทูุงุจ
        "explanation": "ูุฐุง ุตุญูุญ...",
        "points": 2
      }
    ],
    "additionalInfo": {
      "canEdit": true,
      "canViewAnswers": true,
      "questionsCount": 2,
      "estimatedTime": 45,
      "difficulty": "ูุชูุณุท"
    }
  }
}
```

#### ุชุญุฏูุซ ูููุฒ
**PUT** `/api/quizzes/:id`

**ุงูุตูุงุญูุงุช:** ููุดุฆ ุงููููุฒ ุฃู admin

**Body:** (ุฌููุน ุงูุญููู ุงุฎุชูุงุฑูุฉ)
```json
{
  "title": "ุนููุงู ูุญุฏุซ",
  "timeLimit": 60,
  "isActive": false,
  "questions": [...]
}
```

#### ุญุฐู ูููุฒ
**DELETE** `/api/quizzes/:id`

**ุงูุตูุงุญูุงุช:** ููุดุฆ ุงููููุฒ ุฃู admin

---

### 2. ุงููููุฒุงุช ุญุณุจ ุงูุตู

#### ูููุฒุงุช ุงูุตู ุงูุฃูู ุงูุซุงููู
**GET** `/api/quizzes/grade/first-secondary`

#### ูููุฒุงุช ุงูุตู ุงูุซุงูู ุงูุซุงููู ุนููู
**GET** `/api/quizzes/grade/second-secondary-science`

#### ูููุฒุงุช ุงูุตู ุงูุซุงูู ุงูุซุงููู ุฃุฏุจู
**GET** `/api/quizzes/grade/second-secondary-literature`

#### ูููุฒุงุช ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุนููู
**GET** `/api/quizzes/grade/third-secondary-science`

#### ูููุฒุงุช ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุฃุฏุจู
**GET** `/api/quizzes/grade/third-secondary-literature`

**Query Parameters ูุฌููุน endpoints ุงูุตููู:**
- `page`, `limit`: ููุตูุญุงุช
- `subject`: ููุชุฑุฉ ุญุณุจ ุงููุงุฏุฉ
- `isActive`: ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ
- `search`: ุงูุจุญุซ ุงููุตู
- `sortBy`, `sortOrder`: ุงูุชุฑุชูุจ

**ูุซุงู Response ููุตู ุงูุซุงูุซ ุนููู:**
```json
{
  "success": true,
  "message": "ุชู ุฌูุจ ูููุฒุงุช ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุนููู ุจูุฌุงุญ",
  "grade": "ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุนููู",
  "data": [...],
  "pagination": {
    "currentPage": 1,
    "totalPages": 3,
    "totalQuizzes": 25,
    "hasNext": true,
    "hasPrev": false
  },
  "statistics": {
    "gradeOverview": {
      "totalQuizzes": 25,
      "activeQuizzes": 20,
      "inactiveQuizzes": 5,
      "avgQuestions": 8.5,
      "totalQuestions": 200,
      "avgTimeLimit": 42
    },
    "subjectBreakdown": [
      {
        "_id": "ููุฒูุงุก",
        "count": 8,
        "activeQuizzes": 7,
        "avgQuestions": 10,
        "totalPoints": 240
      },
      {
        "_id": "ููููุงุก",
        "count": 7,
        "activeQuizzes": 6,
        "avgQuestions": 8,
        "totalPoints": 180
      }
    ],
    "recentQuizzes": [...],
    "comprehensiveQuizzes": [...]
  }
}
```

---

## ๐ ูููุฐุฌ ุงูุจูุงูุงุช

### Quiz Schema
```javascript
{
  title: String,              // ุนููุงู ุงููููุฒ (ูุทููุจ)
  description: String,        // ูุตู ุงููููุฒ (ุงุฎุชูุงุฑู)
  grade: String,             // ุงูุตู (enum - ูุทููุจ)
  subject: String,           // ุงููุงุฏุฉ (ูุทููุจ)
  questions: [{}],           // ุงูุฃุณุฆูุฉ (array)
  totalQuestions: Number,    // ุงูุนุฏุฏ ุงูุฅุฌูุงูู ููุฃุณุฆูุฉ (ูุญุณูุจ ุชููุงุฆูุงู)
  totalPoints: Number,       // ุงูููุงุท ุงูุฅุฌูุงููุฉ (ูุญุณูุจุฉ ุชููุงุฆูุงู)
  timeLimit: Number,         // ูุฏุฉ ุงููููุฒ ุจุงูุฏูุงุฆู (ุงูุชุฑุงุถู: 30)
  isActive: Boolean,         // ุญุงูุฉ ุงููููุฒ (ุงูุชุฑุงุถู: true)
  createdBy: ObjectId,       // ููุดุฆ ุงููููุฒ (ูุทููุจ)
  updatedBy: ObjectId,       // ุขุฎุฑ ูุญุฏุซ
  createdAt: Date,           // ุชุงุฑูุฎ ุงูุฅูุดุงุก
  updatedAt: Date            // ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ
}
```

### Question Schema
```javascript
{
  questionText: String,      // ูุต ุงูุณุคุงู (ูุทููุจ)
  type: String,             // ููุน ุงูุณุคุงู (enum - ูุทููุจ)
  
  // ููุฃุณุฆูุฉ ูู ููุน ุงุฎุชุฑ ูู ูุชุนุฏุฏ
  options: [{
    text: String,           // ูุต ุงูุฎูุงุฑ
    isCorrect: Boolean      // ูู ุงูุฎูุงุฑ ุตุญูุญ
  }],
  
  // ููุฃุณุฆูุฉ ูู ููุน ุตุญ ูุฎุทุฃ
  correctAnswer: Boolean,   // ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ
  
  explanation: String,      // ุดุฑุญ ุงูุฅุฌุงุจุฉ (ุงุฎุชูุงุฑู)
  points: Number           // ููุงุท ุงูุณุคุงู (1-10ุ ุงูุชุฑุงุถู: 1)
}
```

### ุฃููุงุน ุงูุฃุณุฆูุฉ ุงููุฏุนููุฉ
- **ุตุญ ูุฎุทุฃ**: ุณุคุงู ูุชุทูุจ ุฅุฌุงุจุฉ ุจุตุญ ุฃู ุฎุทุฃ
- **ุงุฎุชุฑ ูู ูุชุนุฏุฏ**: ุณุคุงู ูุน ุฎูุงุฑุงุช ูุชุนุฏุฏุฉ ูุฅุฌุงุจุฉ ุตุญูุญุฉ ูุงุญุฏุฉ

---

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฅูุดุงุก ูููุฒ ููุซุงูููุฉ ุงูุนุงูุฉ
```bash
curl -X POST http://localhost:3000/api/quizzes \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer your-token" \
  -d '{
    "title": "ูููุฒ ุงูููููุงุก ุงูููุงุฆู",
    "description": "ุงุฎุชุจุงุฑ ุดุงูู ูุฌููุน ูุญุฏุงุช ุงูููููุงุก",
    "grade": "ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ุนููู",
    "subject": "ููููุงุก",
    "timeLimit": 90,
    "questions": [
      {
        "questionText": "ุงููุงุก ูุฑูุจ ููููุงุฆู",
        "type": "ุตุญ ูุฎุทุฃ",
        "correctAnswer": true,
        "points": 2
      }
    ]
  }'
```

### 2. ุงูุจุญุซ ุนู ูููุฒุงุช ุงูุฑูุงุถูุงุช
```bash
GET /api/quizzes/grade/second-secondary-science?subject=ุฑูุงุถูุงุช&isActive=true
```

### 3. ุฌูุจ ุฃุญุฏุซ ุงููููุฒุงุช
```bash
GET /api/quizzes?sortBy=createdAt&sortOrder=desc&limit=5
```

---

## โ๏ธ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ุฑููุฒ ุงูุงุณุชุฌุงุจุฉ
- `200`: ูุฌุญ ุงูุทูุจ
- `201`: ุชู ุฅูุดุงุก ุงูููุฑุฏ ุจูุฌุงุญ
- `400`: ุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ
- `401`: ุบูุฑ ูุฎูู (ูุชุทูุจ ุชุณุฌูู ุฏุฎูู)
- `403`: ููููุน (ุตูุงุญูุงุช ุบูุฑ ูุงููุฉ)
- `404`: ุงูููุฑุฏ ุบูุฑ ููุฌูุฏ
- `409`: ุชุถุงุฑุจ ูู ุงูุจูุงูุงุช
- `500`: ุฎุทุฃ ูู ุงูุฎุงุฏู

### ูููุฐุฌ ุงูุฃุฎุทุงุก
```json
{
  "success": false,
  "message": "ูุตู ุงูุฎุทุฃ",
  "errors": [
    {
      "field": "title",
      "message": "ุนููุงู ุงููููุฒ ูุทููุจ"
    },
    {
      "message": "ุงูุณุคุงู 1: ูุฌุจ ุชุญุฏูุฏ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ"
    }
  ]
}
```

---

## ๐ ูุตุงุฆุญ ููุชุญุณูู

### 1. ุชุตููู ุงูุฃุณุฆูุฉ ุงููุนุงูุฉ
```json
{
  "questionText": "ุฃู ูู ุงูููุงููู ุงูุชุงููุฉ ููุนุฑู ุจูุงููู ุงููุตูุฑ ุงูุฐุงุชูุ",
  "type": "ุงุฎุชุฑ ูู ูุชุนุฏุฏ",
  "options": [
    { "text": "ูุงููู ูููุชู ุงูุฃูู", "isCorrect": true },
    { "text": "ูุงููู ูููุชู ุงูุซุงูู", "isCorrect": false },
    { "text": "ูุงููู ูููุชู ุงูุซุงูุซ", "isCorrect": false },
    { "text": "ูุงููู ุงูุฌุงุฐุจูุฉ ุงูุนุงูุฉ", "isCorrect": false }
  ],
  "explanation": "ูุงููู ูููุชู ุงูุฃูู ููุนุฑู ุจูุงููู ุงููุตูุฑ ุงูุฐุงุชู",
  "points": 3
}
```

### 2. ุงุณุชุฎุฏุงู ุงูููุงุชุฑ
```bash
# ูููุฒุงุช ูุดุทุฉ ููููุฒูุงุก ูู ุงูุซุงูููุฉ ุงูุนุงูุฉ
GET /api/quizzes/grade/third-secondary-science?subject=ููุฒูุงุก&isActive=true
```

### 3. ุงูุจุญุซ ุงููุตู
```bash
# ุงูุจุญุซ ุนู ูููุฒุงุช ุชุญุชูู ุนูู "ูููุชู"
GET /api/quizzes?search=ูููุชู
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงููุชููุฑุฉ

### ุฅุญุตุงุฆูุงุช ุนุงูุฉ
- ุฅุฌูุงูู ุงููููุฒุงุช
- ุงููููุฒุงุช ุงููุดุทุฉ/ุบูุฑ ุงููุดุทุฉ
- ูุชูุณุท ุนุฏุฏ ุงูุฃุณุฆูุฉ
- ูุชูุณุท ุงูููุงุท
- ูุชูุณุท ุงูููุช ุงููุญุฏุฏ

### ุฅุญุตุงุฆูุงุช ุญุณุจ ุงููุงุฏุฉ
- ุนุฏุฏ ุงููููุฒุงุช ููู ูุงุฏุฉ
- ุงููููุฒุงุช ุงููุดุทุฉ ููู ูุงุฏุฉ
- ูุชูุณุท ุงูุฃุณุฆูุฉ ูุงูููุงุท ููู ูุงุฏุฉ

### ูููุฒุงุช ูููุฒุฉ
- ุฃุญุฏุซ ุงููููุฒุงุช
- ุงููููุฒุงุช ุงูุฃูุซุฑ ุดููููุฉ (ุฃูุซุฑ ุฃุณุฆูุฉ)
- ุงููููุฒุงุช ุนุงููุฉ ุงูููุงุท

---

## ๐ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### ูุณุชููุงุช ุงูุตูุงุญูุงุช
1. **student**: 
   - ุนุฑุถ ุงููููุฒุงุช (ุจุฏูู ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ)
   - ุญู ุงููููุฒุงุช
2. **instructor**: 
   - ุฅูุดุงุก ูุชุนุฏูู ูุญุฐู ุงููููุฒุงุช ุงูููุดุฃุฉ ูู ูุจูู
   - ุนุฑุถ ุฌููุน ุชูุงุตูู ุงููููุฒุงุช ุจูุง ูู ุฐูู ุงูุฅุฌุงุจุงุช
3. **admin**: 
   - ุตูุงุญูุงุช ูุงููุฉ ุนูู ุฌููุน ุงููููุฒุงุช

### ุญูุงูุฉ ุงููุญุชูู
- ุฅุฎูุงุก ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ ุนู ุงูุทูุงุจ
- ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- ุงูุชุญูู ูู ุตุญุฉ ุงูุฃุณุฆูุฉ ูุจู ุงูุญูุธ
- ุญูุงูุฉ ูู ูุฌูุงุช ุงูุญูู

---

## ๐งฎ ูุธุงู ุญุณุงุจ ุงููุชุงุฆุฌ

### ุฏุงูุฉ ุญุณุงุจ ุงููุชูุฌุฉ
```javascript
// ูุซุงู ุนูู ุงุณุชุฎุฏุงู ุฏุงูุฉ ุญุณุงุจ ุงููุชูุฌุฉ
const quiz = await Quiz.findById(quizId);
const userAnswers = [true, "option1_id", false]; // ุฅุฌุงุจุงุช ุงููุณุชุฎุฏู

const result = quiz.calculateScore(userAnswers);
console.log(result);
// Output:
// {
//   score: 8,
//   correctAnswers: 2,
//   totalQuestions: 3,
//   totalPoints: 10,
//   percentage: 66.67
// }
```

---

## ๐ ุงูุฏุนู ุงูููู

ูุฃู ุงุณุชูุณุงุฑุงุช ุฃู ูุณุงุนุฏุฉ ุชูููุฉ:
- ๐ง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: support@example.com
- ๐ฑ ูุงุชุณุงุจ: +20123456789
- ๐ ุงููููุน ุงูุฅููุชุฑููู: https://example.com

---

**ุขุฎุฑ ุชุญุฏูุซ:** ููุงูุฑ 2024  
**ุงูุฅุตุฏุงุฑ:** 1.0.0